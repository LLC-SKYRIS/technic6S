# –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –ø–æ–ª–µ—Ç–∞

–ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –¥–ª—è –∑–∞–¥–∞—á –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –ø–æ–ª–µ—Ç–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —è–∑—ã–∫¬†**Python**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å¬†[—Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é](simple_offboard.md#get_telemetry)(–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é, —Å–∫–æ—Ä–æ—Å—Ç—å, –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ–∏) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫¬†[–ø–æ–ª–µ—Ç –∫ –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–æ—á–∫–µ](simple_offboard.md#navigate),¬†[–∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏](simple_offboard.md#set_attitude)¬†–∏–ª–∏¬†[–∑–∞–¥–∞–Ω–∏–µ —É–≥–ª–æ–≤—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π](simple_offboard.md#set_rates).

> üí°¬†**Hint**¬†–ï—Å–ª–∏ –≤—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –∏–∑—É—á–µ–Ω–∏–µ Python, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è¬†[—Å–∞–º–æ—É—á–∏—Ç–µ–ª–µ–º](https://pythonworld.ru/samouchitel-python).

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –ø–æ–ª–µ—Ç–æ–≤.  

–î–ª—è —ç—Ç–æ–≥–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ OrangePi 5 Pro —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª

–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π Python:

`python3 flight.py`

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ–ª–µ—Ç–∞ (–≤–∑–ª–µ—Ç ‚Üí –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥ ‚Üí –ø–æ—Å–∞–¥–∫–∞):

```python
import rospy
from technic import srv
from std_srvs.srv import Trigger

rospy.init_node('flight')

get_telemetry = rospy.ServiceProxy('get_telemetry', srv.GetTelemetry)
navigate = rospy.ServiceProxy('navigate', srv.Navigate)
navigate_global = rospy.ServiceProxy('navigate_global', srv.NavigateGlobal)
set_position = rospy.ServiceProxy('set_position', srv.SetPosition)
set_velocity = rospy.ServiceProxy('set_velocity', srv.SetVelocity)
set_attitude = rospy.ServiceProxy('set_attitude', srv.SetAttitude)
set_rates = rospy.ServiceProxy('set_rates', srv.SetRates)
land = rospy.ServiceProxy('land', Trigger)

# –í–∑–ª–µ—Ç –Ω–∞ –≤—ã—Å–æ—Ç—É 1 –º
navigate(x=0, y=0, z=1, frame_id='body', auto_arm=True)

# –û–∂–∏–¥–∞–Ω–∏–µ 3 —Å–µ–∫—É–Ω–¥—ã
rospy.sleep(3)

# –ü—Ä–æ–ª–µ—Ç –≤–ø–µ—Ä–µ–¥ 1 –º–µ—Ç—Ä
navigate(x=1, y=0, z=0, frame_id='body')

# –û–∂–∏–¥–∞–Ω–∏–µ 3 —Å–µ–∫—É–Ω–¥—ã
rospy.sleep(3)

# –ü–æ—Å–∞–¥–∫–∞
land()
```

> ‚ÑπÔ∏è –§—É–Ω–∫—Ü–∏—è¬†`navigate`¬†–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–æ—á–∫–∏. –î–ª—è –±–ª–æ–∫–∏—Ä—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†[`navigate_wait`](snippets.md#navigate_wait).

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –ø–∞—Ä–∞–º–µ—Ç—Ä¬†`auto_arm=True`¬†—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ¬†`navigate`. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É –¥—Ä–æ–Ω–∞ –Ω–∞ –æ—Ö—Ä–∞–Ω—É –∏ –ø–µ—Ä–µ–≤–æ–¥ –µ–≥–æ –≤ —Ä–µ–∂–∏–º OFFBOARD.

–° –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞¬†`frame_id`¬†–∑–∞–¥–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –¥–≤–∏–∂–µ–Ω–∏—è:

- `body`¬†‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–ø—É—Å–∞ –¥—Ä–æ–Ω–∞;
    
- `navigate_target`¬†‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ü–µ–ª–µ–≤–æ–π —Ç–æ—á–∫–∏;
    
- `map`¬†‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç;
    
- `aruco_map`¬†‚Äî –∫–∞—Ä—Ç–∞ ArUco-–º–∞—Ä–∫–µ—Ä–æ–≤;
    
- `aruco_N`¬†‚Äî –º–∞—Ä–∫–µ—Ä —Å ID=N.

> **Hint** –í Technic —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Ä–µ–∂–∏–º¬†[–±–ª–æ—á–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è](blocks.md), –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –±–µ–∑ –∫–æ–¥–∞.

